自分のMastodonサーバーで使うBashシェルスクリプトを作成します。

全て手動でも自動でも実行可能な作りとしてください。

## 欲しいもの

### データベースの日次バックアップ

PostgreSQLのデータベースバックアップを作成する。

`systemd.timer` を使い、毎日午前3:00にバックアップ処理を実行する。

#### 処理内容

1. データベースバックアップ
2. 適切な形式で圧縮し、データサイズを小さくする
3. BackBlazeの適切なバケットにアップロード

### データベースの月次バックアップ

<!-- TODO: おそらくdumpall? -->

PostgreSQLのデータベースバックアップを作成する。

`systemd.timer` を使い、毎月1日の午前4:00にバックアップ処理を実行する。

#### 処理内容

1. データベースバックアップ
2. 適切な形式で圧縮し、データサイズを小さくする
3. BackBlazeの適切なバケットにアップロード

### 各種ソフトウェアのアップデート

次のコマンドを実行する。

@src/update/various.sh の処理を参考にすること。

- `apt update`
- `apt upgrade`
- `mise self-update`

### Mastodonバージョン更新があった時に使うスクリプト

基本的なアップデート手順をプリントするのみに留めます。

## 保存場所

まだ決めていません

